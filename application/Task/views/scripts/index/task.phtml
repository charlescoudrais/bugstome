<?php
$buttonDecorators = array(
    'ViewHelper',
    array(
        array(
            'row' => 'HtmlTag',
            'class' => 'sub'
        ),
        array(
            'tag'   => 'div',
            'class' => 'form-row-submit offset-label'
        )
    )
);

$this->formTask->inp_task_name->setLabel('TASK_NAME');
$this->formTask->inp_task_id->setLabel('TASK_ID');
$this->formTask->inp_task_start_datepicker->setLabel('TASK_START_DATE');
$this->formTask->inp_task_end_datepicker->setLabel('TASK_END_DATE');
$this->formTask->sel_task_manager->setLabel('TASK_MANAGER');
$this->formTask->sel_task_priority->setLabel('TASK_PRIORITY');
$this->formTask->tarea_task_description->setLabel('TASK_DESCRIPTION');

if ($this->taskId === 0) {
$this->formTask->submit_task_form->setLabel('SUBMIT')
                                 ->clearDecorators()
                                 ->setDecorators($buttonDecorators);
} else {
    $this->formTask->removeElement('submit_task_form');
}
?>

<div style="float:right; margin: 0; padding: 6px; line-height: 32px;">
    <?php
    //@TODO : elapsed time
        echo $this->translate('TASK_ELAPSED_TIME') . ' : ';
        echo '<span class="span-h1">';
        echo '00:00:00';
        echo '</span>';
    ?>
</div>
<h1 class="h1-page-title"><?= $this->pageTitle; ?></h1>
<div class="action-content">
    <?= $this->formTask; ?>
</div>


<div class="article-btn">
    <ul class="ul-btn-add">
        <?php if ($this->taskId > 0) : ?>
        <li>
            <table>
                <tr>
                    <td style="padding: 4px;">
                        <img src="/img/icons_svg/timer_icon.svg"
                             style="width: 32px;" />
                    </td>
                    <td style="padding: 4px;">
                        <a class="add-links" href="#<?=$this->taskId?>">
                            <?=$this->translate('ADD_TIME');?>
                        </a>
                    </td>
                </tr>
            </table>
        </li>
        <li>
            <table>
                <tr>
                    <td style="padding: 4px;">
                        <img src="/img/icons_svg/note_icon.svg"
                             style="width: 32px;" />
                    </td>
                    <td style="padding: 4px;">
                        <a class="add-links"
                           href="/task/task/<?=$this->taskId?>/0">
                            <?=$this->translate('ADD_A_NOTE');?>
                        </a>
                    </td>
                </tr>
            </table>
        </li>
        <li>
            <table>
                <tr>
                    <td style="padding: 4px;">
                        <img src="/img/attachment_0_blue.png"
                             style="width: 32px;"  />
                    </td>
                    <td style="padding: 4px;">
                        <a class="add-links"
                           href="/task/task/<?=$this->taskId?>/file">
                            <?=$this->translate('ATTACH_A_DOCUMENT');?>
                        </a>
                    </td>
                </tr>
            </table>
        </li>
        <?php if (isset($this->userRole)) : ?>
        <li>
            <table>
                <tr>
                    <td style="padding: 4px;">
                        <img src="/img/icons_svg/modify_icon.svg"
                             style="width: 32px;"  />
                    </td>
                    <td style="padding: 4px;">
                        <a class="add-links"
                           href="/task/task/<?=$this->taskId?>">
                            <?=$this->translate('MODIFY_TASK');?>
                        </a>
                    </td>
                </tr>
            </table>
        </li>
        <li>
            <table>
                <tr>
                    <td style="padding: 4px;">
                        <img src="/img/icons_svg/lock_icon.svg"
                             style="width: 32px;" />
                    </td>
                    <td style="padding: 4px;">
                        <a class="add-links"
                           href="/task/task/<?=$this->taskId?>/close">
                            <?=$this->translate('CLOSE_TASK');?>
                        </a>
                    </td>
                </tr>
            </table>
        </li>
        <?php endif; ?>
        <li>
            <table>
                <tr>
                    <td style="padding: 4px;">
                        <img src="/img/icons_svg/alert_icon.svg"
                             style="width: 32px;"  />
                    </td>
                    <td style="padding: 4px;">
                        <a class="add-links"
                           href="/task/task/<?=$this->taskId?>/alert">
                            <?=$this->translate('ALERT_TASK');?>
                        </a>
                    </td>
                </tr>
            </table>
        </li>
        <?php endif; ?>
        <li>
            <table>
                <tr>
                    <td style="padding: 4px;">
                        <img src="/img/icons_svg/help_icon.svg"
                             style="width: 32px;" />
                    </td>
                    <td style="padding: 4px;">
                        <a class="add-links"
                           href="/task/help">
                            <?=$this->translate('HELP_TASK');?>
                        </a>
                    </td>
                </tr>
            </table>
        </li>
    </ul>
    <?php if ($this->taskId == 0) : ?>
    <div class="article">
        <p>TODO : Explain...</p>
    </div>
    <?php endif; ?>
</div>


